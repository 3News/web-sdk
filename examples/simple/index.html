<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RemoteMonster Generic Simple Example</title>

  <style>
    video#remoteVideo { width:auto; height: 80%; background-color: black; }
    button#connectChannelButton { position:absolute; overflow:visible; left:50%; top:10px; }
    html,body{ height:100%; }
  </style>

  <script src="../../remon.min.js"></script>
  <script>
  let isConnected = false;

  const config = {
    credential: {
      key: '1234567890',
      serviceId: 'SERVICEID1'
    },
    view: {
      remote: '#remoteVideo'
    }
  };
const rtcListener = {
  onInit(token) { console.log(`EVENT FIRED : onInit: ${token}`); },
  onCreateChannel(channelId) {
    console.log(`EVENT FIRED : onCreateChannel: ${channelId}`);
  },
  onConnectChannel(channelId) { console.log(`EVENT FIRED : onConnectChannel ${channelId}`); },
  onComplete() { console.log('EVENT FIRED : onComplete'); },
  onAddLocalStream(stream) { console.log(`EVENT FIRED : onAddLocalStream: ${stream}`); },
  onStateChange(state) { console.log(`EVENT FIRED : onStateChange: ${state}`); },
  onDisconnectChannel() { console.log('EVENT FIRED : onDisconnectChannel'); },
  onError(error) { console.log(`EVENT FIRED : onError: ${error}`); },
  onStat(result){
  },
  onSearch(result){
  }
}
  const remon = new Remon({config: config, listener: rtcListener});
  function start(){
    if (isConnected === false){
      isConnected = true;
      document.getElementById('connectChannelButton').innerHTML = 'Close';
      remon.connectChannel('simpleRemon');
    } else {
      isConnected = false;
      document.getElementById('connectChannelButton').innerHTML = "Connect";
      remon.disconnect();
    }
  }
  </script>
</head>
<body>
  <video id="remoteVideo" autoplay controls class="video"></video>
  <button id="connectChannelButton" class="btn btn-sm" onclick="start();">Connect</button>
</body>
</html>
