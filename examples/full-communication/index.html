<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Remon Communication Full Example</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
      crossorigin="anonymous"
    />
    <style>
      .remon-video {
        background-color: black;
      }
      .remon-local-video {
        filter: grayscale(1);
        transform: rotateY(180deg);
      }
      .very-small {
        font-size: 0.35rem;
      }
    </style>
  </head>

  <body>
    <nav class="navbar navbar-light bg-light">
      <a class="navbar-brand" href="#"
        >Communication Example - <span id="status"></span
      ></a>
    </nav>
    <section class="container">
      <div class="row">
        <div class="col mt-2">
          <div class="card">
            <h3 class="card-header h6">Local</h3>
            <div class="card-body p-0 mx-auto">
              <video
                id="localVideo"
                class="remon-video remon-local-video js-video"
                autoplay
                controls
                muted
              ></video>
              <p
                class="very-small font-weight-light mb-0 js-video-info"
                id="localVideoInfo"
              ></p>
            </div>
          </div>
        </div>

        <div class="col mt-2">
          <div class="card">
            <h3 class="card-header h6">Remote</h3>
            <div class="card-body p-0 mx-auto">
              <video
                id="remoteVideo"
                class="remon-video"
                autoplay
                controls
                muted
              ></video>
              <p
                class="very-small font-weight-light mb-0 js-video-info"
                id="remoteVideoInfo"
              ></p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="container">
      <div class="row">
        <div class="col mt-2">
          <nav>
            <div class="nav nav-tabs" id="nav-tab" role="tablist">
              <a
                class="nav-item nav-link active"
                id="options-tab"
                data-toggle="tab"
                href="#options"
                role="tab"
              >
                Options
              </a>
              <a
                class="nav-item nav-link"
                id="advanced-options-tab"
                data-toggle="tab"
                href="#advanced-options"
                role="tab"
              >
                Advanced
              </a>
            </div>
          </nav>

          <div class="tab-content" id="myTabContent">
            <div class="tab-pane show active" id="options" role="tabpanel">
              <div class="input-group input-group-sm my-1 mt-3">
                <div class="input-group-prepend">
                  <div class="input-group-text">
                    <input id="cameraCheckbox" type="checkbox" checked />
                  </div>
                  <label class="input-group-text" for="cameraSel">Camera</label>
                </div>
                <select
                  class="custom-select js-device-sel"
                  id="cameraSel"
                  data-kind="video"
                  data-info="cameraInfo"
                  data-config-key="deviceId"
                >
                  <option value="" selected>Choose...</option>
                </select>
                <p
                  class="very-small font-weight-light mb-0"
                  id="cameraInfo"
                ></p>
              </div>

              <div class="input-group input-group-sm my-1 mb-3">
                <div class="input-group-prepend">
                  <div class="input-group-text">
                    <input id="micCheckbox" type="checkbox" checked />
                  </div>
                  <label class="input-group-text" for="micSel">Mic</label>
                </div>
                <select
                  class="custom-select js-device-sel"
                  id="micSel"
                  data-kind="audio"
                  data-info="micInfo"
                  data-config-key="deviceId"
                >
                  <option value="" selected>Choose...</option>
                </select>
                <p class="very-small font-weight-light mb-0" id="micInfo"></p>
              </div>

              <div class="input-group input-group-sm my-1">
                <div class="input-group-prepend">
                  <label class="input-group-text" for="resSel"
                    >Resolution</label
                  >
                </div>
                <select class="custom-select" id="resSel">
                  <option value="" selected>Choose...</option>
                </select>
              </div>

              <div class="input-group input-group-sm my-1">
                <div class="input-group-prepend">
                  <label class="input-group-text">Width</label>
                </div>
                <input
                  id="widthInput"
                  type="number"
                  class="form-control js-video-config"
                  placeholder=""
                  data-meta="width"
                  data-config-key="width.exact"
                />
                <div class="input-group-append">
                  <span class="input-group-text">px</span>
                </div>
              </div>

              <div class="input-group input-group-sm my-1 mb-3">
                <div class="input-group-prepend">
                  <label class="input-group-text">Height</label>
                </div>
                <input
                  id="heightInput"
                  type="number"
                  class="form-control js-video-config"
                  placeholder=""
                  data-meta="height"
                  data-config-key="height.exact"
                />
                <div class="input-group-append">
                  <span class="input-group-text">px</span>
                </div>
              </div>

              <div class="input-group input-group-sm my-1">
                <div class="input-group-prepend">
                  <label class="input-group-text">Max Frame Rate</label>
                </div>
                <input
                  id="maxFrameRateInput"
                  type="number"
                  class="form-control js-video-config"
                  placeholder=""
                  data-meta="frameRate"
                  data-config-key="frameRate.max"
                />
                <div class="input-group-append">
                  <span class="input-group-text">fps</span>
                </div>
              </div>

              <div class="input-group input-group-sm my-1">
                <div class="input-group-prepend">
                  <label class="input-group-text">Max Bitrate</label>
                </div>
                <input
                  id="maxBitrateInput"
                  type="number"
                  class="form-control js-video-config"
                  placeholder=""
                  data-config-key="maxBitrate"
                />
                <div class="input-group-append">
                  <span class="input-group-text">kbps</span>
                </div>
              </div>

              <div class="input-group input-group-sm my-1">
                <div class="input-group-prepend">
                  <label class="input-group-text" for="videoCodecSel"
                    >Codec</label
                  >
                </div>
                <select
                  class="custom-select js-video-config"
                  id="videoCodecSel"
                  data-config-key="codec"
                >
                  <option value="" selection>Choose...</option>
                </select>
              </div>

              <div class="form-group form-check small mt-3 mb-2">
                <input
                  type="checkbox"
                  class="form-check-input js-audio-config"
                  id="echoCancellationCheckbox"
                  data-config-key="echoCancellation"
                />
                <label class="form-check-label" for="echoCancellationCheckbox"
                  >Echo Cancellation</label
                >
              </div>

              <div class="form-group form-check small my-2">
                <input
                  type="checkbox"
                  class="form-check-input js-audio-config"
                  id="autoGainControlCheckbox"
                  data-config-key="autoGainControl"
                />
                <label class="form-check-label" for="autoGainControlCheckbox"
                  >Auto Gain Control</label
                >
              </div>

              <div class="form-group form-check small mt-2 mb-3">
                <input
                  type="checkbox"
                  class="form-check-input js-audio-config"
                  id="noiseSuppressionCheckbox"
                  data-config-key="noiseSuppression"
                />
                <label class="form-check-label" for="noiseSuppressionCheckbox"
                  >Noise Suppression</label
                >
              </div>

              <div class="form-row">
                <div class="col">
                  <div class="form-group form-check small">
                    <input
                      type="checkbox"
                      class="form-check-input js-rtc-config"
                      id="simulcastCheckbox"
                      data-config-key="simulcast"
                    />
                    <label class="form-check-label" for="simulcastCheckbox"
                      >Simulcast</label
                    >
                  </div>
                </div>

                <div class="col">
                  <div class="form-group form-check small">
                    <input
                      type="checkbox"
                      class="form-check-input js-rtc-config"
                      id="unifiedPlanCheckbox"
                      data-config-key="unifiedPlan"
                    />
                    <label class="form-check-label" for="unifiedPlanCheckbox"
                      >Unified-plan</label
                    >
                  </div>
                </div>
              </div>

              <hr />

              <div class="input-group my-1 mb-5">
                <div class="input-group-prepend">
                  <label class="input-group-text">Channel Id</label>
                </div>
                <input
                  type="text"
                  class="form-control js-chid"
                  id="chidInput"
                  placeholder=""
                />
                <div class="input-group-append">
                  <button
                    class="btn btn-secondary js-connect-btn"
                    type="button"
                    id="connectBtn"
                  >
                    Connect
                  </button>
                  <button
                    type="button"
                    id="closeBtn"
                    class="btn btn-secondary js-close-btn"
                    disabled
                  >
                    Close
                  </button>
                </div>
              </div>
            </div>

            <div class="tab-pane" id="advanced-options" role="tabpanel">
              <div class="input-group input-group-sm my-1 mt-3">
                <div class="input-group-prepend">
                  <label class="input-group-text" for="resSel">SDK</label>
                </div>
                <select class="custom-select" id="sdkSel">
                  <option value="" selected>Choose...</option>
                </select>
              </div>

              <div class="input-group input-group-sm my-1 mt-3">
                <div class="input-group-prepend">
                  <label class="input-group-text" for="resSel">Server</label>
                </div>
                <select class="custom-select" id="serverSel">
                  <option value="" selected>Choose...</option>
                </select>
              </div>

              <div id="serviceConfig" class="my-3">
                <ul id="services" class="list-unstyled">
                  <li class="input-group input-group-sm my-1 js-service">
                    <div class="input-group-prepend">
                      <div class="input-group-text">
                        <input
                          id="defaultServiceRadio"
                          name="service"
                          type="radio"
                        />
                      </div>
                      <span class="input-group-text">Id | Key</span>
                    </div>
                    <input
                      type="text"
                      id="defaultServiceIdInput"
                      class="form-control js-service-id"
                      disabled
                    />
                    <input
                      type="text"
                      id="defaultServiceKeyInput"
                      class="form-control js-service-key"
                      disabled
                    />
                    <div class="input-group-append">
                      <button
                        class="btn btn-secondary js-service-remove"
                        type="button"
                        id="button-addon2"
                        disabled
                      >
                        X
                      </button>
                    </div>
                  </li>
                </ul>

                <div class="text-center">
                  <button id="serviceAddBtn" class="btn btn-secondary btn-sm">
                    Add Service
                  </button>
                </div>
              </div>

              <div class="text-center">
                <button id="clearCacheBtn" class="btn btn-secondary btn-sm">
                  Clear Config Cache
                </button>
              </div>
              <hr />

              <div class="input-group my-1 mb-5">
                <div class="input-group-prepend">
                  <label class="input-group-text">Channel Id</label>
                </div>
                <input
                  type="text"
                  class="form-control js-chid"
                  id="advancedChidInput"
                  placeholder=""
                />
                <div class="input-group-append">
                  <button
                    class="btn btn-secondary js-connect-btn"
                    type="button"
                    id="advancedConnectBtn"
                  >
                    Connect
                  </button>
                  <button
                    type="button"
                    id="advancedCloseBtn"
                    class="btn btn-secondary js-close-btn"
                    disabled
                  >
                    Close
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="col mt-2">
          <div class="card">
            <h3 class="card-header h6">Channels</h3>
            <ul id="channels" class="list-group list-group-flush"></ul>
          </div>
        </div>
      </div>
    </section>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"></script>
    <script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@remotemonster/sdk/remon.min.js"></script>
    <script src="app.js"></script>
  </body>
</html>
